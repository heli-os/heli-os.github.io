{
    "componentChunkName": "component---src-template-post-tsx",
    "path": "/Java-Compiler-Optimization/",
    "result": {"data":{"allMarkdownRemark":{"nodes":[{"fields":{"slug":"/티몬-위메프-사태로-알아보는-흑자도산/"},"timeToRead":4,"frontmatter":{"title":"티몬·위메프 사태로 알아보는 흑자도산","series":null}},{"fields":{"slug":"/조직이-커지면서-발생하는-문제/"},"timeToRead":1,"frontmatter":{"title":"조직이 커지면서 발생하는 문제","series":null}},{"fields":{"slug":"/PM은-무얼-하는-사람/"},"timeToRead":2,"frontmatter":{"title":"PM은 무얼 하는 사람?","series":null}},{"fields":{"slug":"/당신은-얼마나-책임-지고-있나요-feat-Mandate-Levels/"},"timeToRead":4,"frontmatter":{"title":"당신은 얼마나 책임 지고 있나요? (feat. Mandate Levels)","series":null}},{"fields":{"slug":"/우리가-하는-일은-두-가지-유형의-일-뿐이다-부제-직무의-통합/"},"timeToRead":4,"frontmatter":{"title":"우리가 하는 일은 두 가지 유형의 일 뿐이다. (부제; 직무의 통합)","series":null}},{"fields":{"slug":"/교육-산업에-대한-고찰/"},"timeToRead":3,"frontmatter":{"title":"교육 산업에 대한 고찰","series":null}},{"fields":{"slug":"/useCallback을-순수-자바스크립트로-구현한다면/"},"timeToRead":4,"frontmatter":{"title":"useCallback을 순수 자바스크립트로 구현한다면?","series":null}},{"fields":{"slug":"/더-많은-기회를-발견하는-방법-The-Red-car-theory/"},"timeToRead":1,"frontmatter":{"title":"더 많은 기회를 발견하는 방법, The Red car theory","series":null}},{"fields":{"slug":"/주간회고-2024년-9주차/"},"timeToRead":2,"frontmatter":{"title":"[주간회고] 2024년 9주차","series":null}},{"fields":{"slug":"/번아웃을-한-번에-해결할-수-있는-방법은-성과다/"},"timeToRead":2,"frontmatter":{"title":"번아웃을 한 번에 해결할 수 있는 방법은 성과다","series":null}},{"fields":{"slug":"/주간회고-2024년-8주차/"},"timeToRead":2,"frontmatter":{"title":"[주간회고] 2024년 8주차","series":null}},{"fields":{"slug":"/유료화-그-이후-After-Willingness-to-pay/"},"timeToRead":2,"frontmatter":{"title":"유료화, 그 이후 (After Willingness to pay)","series":null}},{"fields":{"slug":"/주간회고-2024년-7주차/"},"timeToRead":3,"frontmatter":{"title":"[주간회고] 2024년 7주차","series":null}},{"fields":{"slug":"/주간회고-2024년-6주차/"},"timeToRead":3,"frontmatter":{"title":"[주간회고] 2024년 6주차","series":null}},{"fields":{"slug":"/볼타-이야기-채용-원칙/"},"timeToRead":4,"frontmatter":{"title":"[볼타 이야기] 채용 원칙","series":"볼타 이야기"}},{"fields":{"slug":"/주간회고-2024년-5주차/"},"timeToRead":3,"frontmatter":{"title":"[주간회고] 2024년 5주차","series":null}},{"fields":{"slug":"/볼타-이야기-작은-팀을-유지하려는-이유/"},"timeToRead":2,"frontmatter":{"title":"[볼타 이야기] 작은 팀을 유지하려는 이유","series":"볼타 이야기"}},{"fields":{"slug":"/볼타-이야기-결국-B2B는-잘-팔면-되는-거-아닌가/"},"timeToRead":2,"frontmatter":{"title":"[볼타 이야기] 결국 B2B는 잘 팔면 되는 거 아닌가?","series":"볼타 이야기"}},{"fields":{"slug":"/2023년-회고-프로젝트-퇴사-창업-채용-기술/"},"timeToRead":15,"frontmatter":{"title":"2023년 회고: 프로젝트, 퇴사, 창업, 채용, 기술","series":"볼타 이야기"}},{"fields":{"slug":"/실리콘밸리는-이렇게-일합니다-진짜-일과-가짜-일/"},"timeToRead":1,"frontmatter":{"title":"실리콘밸리는 이렇게 일합니다: 진짜 일과 가짜 일","series":null}},{"fields":{"slug":"/JPA-Entity-연관관계와-Domain-Entity에-대한-생각/"},"timeToRead":1,"frontmatter":{"title":"JPA Entity 연관관계와 Domain Entity에 대한 생각","series":"JPA"}},{"fields":{"slug":"/다른-사람에게-도움을-구하는-가장-좋은-방법/"},"timeToRead":5,"frontmatter":{"title":"다른 사람에게 도움을 구하는 가장 좋은 방법","series":null}},{"fields":{"slug":"/Facebook을-다운-시킨-원인-BGP-hijacking은-무엇인가/"},"timeToRead":3,"frontmatter":{"title":"Facebook을 다운 시킨 원인, BGP hijacking은 무엇인가?","series":null}},{"fields":{"slug":"/모든-회사에-어필-할-수-있는-지원-동기와-목표설정-방법/"},"timeToRead":2,"frontmatter":{"title":"모든 회사에 어필 할 수 있는 지원 동기와 목표설정 방법","series":null}},{"fields":{"slug":"/블로그-이관-및-앞으로의-계획/"},"timeToRead":2,"frontmatter":{"title":"블로그 이관 및 앞으로의 계획","series":"Vallista-land"}},{"fields":{"slug":"/빌드가-완료되면-소리-나게-해주세요/"},"timeToRead":1,"frontmatter":{"title":"???: 빌드가 완료되면 소리 나게 해주세요.","series":null}},{"fields":{"slug":"/한기용님과-함께하는-단체챗-회고/"},"timeToRead":1,"frontmatter":{"title":"한기용님과 함께하는 단체챗 회고","series":"장인 정신"}},{"fields":{"slug":"/Java-Compiler-Optimization/"},"timeToRead":3,"frontmatter":{"title":"Java Compiler Optimization","series":null}},{"fields":{"slug":"/내가-개발-커뮤니티를-하는-이유/"},"timeToRead":15,"frontmatter":{"title":"내가 개발 커뮤니티를 하는 이유 (a.k.a. 10년 회고)","series":null}},{"fields":{"slug":"/Google-Calendar-API-분석-및-시스템-구축-전략/"},"timeToRead":4,"frontmatter":{"title":"Google Calendar API 분석 및 시스템 구축 전략","series":null}},{"fields":{"slug":"/Webhooks(웹훅)-시스템-체크리스트/"},"timeToRead":2,"frontmatter":{"title":"Webhooks(웹훅) 시스템 체크리스트","series":null}},{"fields":{"slug":"/Why-DDD-Clean-Architecture-and-Hexagonal/"},"timeToRead":8,"frontmatter":{"title":"Why DDD, Clean Architecture and Hexagonal?","series":null}}],"group":[{"fieldValue":"JPA","totalCount":1},{"fieldValue":"Vallista-land","totalCount":1},{"fieldValue":"볼타 이야기","totalCount":4},{"fieldValue":"장인 정신","totalCount":1}]},"markdownRemark":{"id":"59ad9663-a5ff-521a-9206-779255692dc2","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 706px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.1875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAC7ElEQVQ4y22T3W9TZRzHz53xTyABvOLaGyXEeOEVvsR4hZGEhBu8YTcmU2c0y+KFEfFGgsbysoEpSDZHWCMKrE7G2rG59WUFZK2s3bqWtqc757SnPe89Lx/SFh0u/JLP8zx5nvy+yff3zSNYHR+x5TyXasOg2jSpNAweyxoVRaemWtRbDnXVpt56imojtR08P0CQtA75ukm54bCp2BRlm1LDpqg4zCay3IpliEQXuTGX7u2pXIXNFqw1AvKKT17xyDdhTepgOh6CZvv8mqrywal5Pjy7xPHRZQ59F+dstEA0Oc/Q2ADDP33ESHiQT88dIzwXIXM7yuLwWyx/c4TEt0dZ+OJNMtOT2IBgdgIuzK6zd2CK14aneX0kyp6BCIOjy4xFxjj4+T4Of3WAoyff4ODQbj67MMKt0EnuviewdGwv6eP7iL0jkAyf6As2DJfkhsrvKzVuZkRuZESupyokNjRytSbRTIqZe2n+uJcmupIgVaySL0lk/rrL38kEl0fPkIzfIZsvYbkgOK5PV1R3fLr2u3TPTcNF1lzaNv+h2dA0fGTDQ3FA9SAUnqTcdGh3wPN9BP5XwQ52lv/Mvd9bxycmMHSt3x0ECK4X0E16S+sg6UEP2QBJ9ymKKusViY2aTElSUUwPxXR7bLUdFL1D+MoEmm5sC2qWy6O6yZqokyuLZEtVsqUKq5sVpuNLxNL/cDO2wm8zaR7k1R73803WRAvRgvPhcXRd3xZsWx3WlYBcYZU/f9xF7PxLLFx+ldunX2Dx2hHmHhYZDy3zyf6f+fLdq4y8/QuDr1wiHJpncibG6dAYge8/X3D2zB5i53azEH6Z2e9fJD55mOnkQ8Kn4ny8/xIn3o/w9aEphg5c4eIPd7g4dZ1iudafqN+frdB+xnK2XCdbElkt1ciWauQey1Q0eFQzuV9o8qCg9uhaLmzZ1CywvX6YQfBvKH6A3A1E6yDr/g683l/tvvXCMJ5iukiaw1bLwvW27XYFnwCxb4qTqNToAQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"hero\"\n        title=\"hero\"\n        src=\"/static/366e30cf0f4a9a52ab6c4f12b8e3bdb6/9f21b/1.png\"\n        srcset=\"/static/366e30cf0f4a9a52ab6c4f12b8e3bdb6/6f3f2/1.png 256w,\n/static/366e30cf0f4a9a52ab6c4f12b8e3bdb6/01e7c/1.png 512w,\n/static/366e30cf0f4a9a52ab6c4f12b8e3bdb6/9f21b/1.png 706w\"\n        sizes=\"(max-width: 706px) 100vw, 706px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2>시작하며</h2>\n<p>프로그래머가 작성한 자바 소스 코드가 실제로 실행되기까지는 꽤나 복잡한 과정을 거치게 됩니다.</p>\n<ol>\n<li>자바 소스 코드를 바이트 코드로 변환</li>\n<li>변환된 바이트 코드를 JRE(Java Runtime Environment)에 적재</li>\n<li>JRE는 실시간으로 런타임에 기계(컴퓨터)가 이해할 수 있는 형태로 변환 후 실행</li>\n</ol>\n<p>1번은 javac를 이용한 '컴파일' 행위이며, 2번은 컴파일된 결과물(.jar)을 java 런타임으로 실행하는 것이며, 3번은 얼핏 보았을 땐 인터프리터의 동작 방식과 유사합니다.</p>\n<p>이번 게시글에서는 자바 컴파일의 각 과정에 대해서 간략하게 다루어 보고 그 과정 속에서 컴파일러가 자체적으로 어떤 최적화를 하며, JVM Option으로 컴파일러를 최적화할 수 있는 몇 가지 방법에 대해 이야기합니다.</p>\n<h2>Java Virtual Machine / Java Runtime Environment</h2>\n<p>우선 JVM, JRE이 등장하게 된 역사부터 살펴볼 필요가 있습니다. JAVA 이전에 등장한 C, C++ 같은 언어들은 컴파일 과정에서 어느 플랫폼(CPU Architecture)에서 실행할 것인지 명시해주고, 각 플랫폼에 최적화된 Native Code를 만들어내는 구조였습니다. 즉, 빌드 결과물은 특정 플랫폼에서만 실행 가능했다는 의미입니다.</p>\n<p>하지만 이러한 방식은 여러 종류의 플랫폼이 등장하며 단점으로 대두되었습니다. 즉, 소프트웨어의 전파를 제한하고 사용자와 공급자 모두에게 번거로움을 가져다주는 단점이 있었던 것입니다. JAVA는 이러한 단점을 극복하고자 컴파일 과정에서 바이트 코드를 생성하고, 런타임에 각 플랫폼에 적합한 형태로 바이트 코드를 네이티브 코드로 변환하는 구조를 가지게 됩니다.</p>\n<h2>Java Compiler at compile time</h2>\n<p>컴파일 타임의 자바 컴파일러, 즉 javac는 소스 코드(.java 파일)를 바이트 코드(.class 파일)로 만들고 .jar 같은 형태로 패키징 하는 컴파일러입니다. 이후 JVM은 런타임에 바이트 코드를 한 줄씩 읽어가며 네이티브 코드로 변환하는 인터프리터 방식으로 동작합니다.</p>\n<h2>JIT Compiler at run time</h2>\n<p>하지만 매번 한 줄씩 읽으며 네이티브 코드로 변환하는 방식은 필연적으로 속도가 느릴 수밖에 없습니다. JIT 컴파일러는 자주 실행되는 코드 블록의 바이트 코드(.class 파일)를 네이티브 코드(binary code)로 컴파일해주는 역할을 합니다.</p>\n<p>모든 바이트 코드를 일괄로 네이티브 코드로 컴파일할 수 있다면 좋겠지만 컴파일을 위해선 프로세서와 메모리를 사용해야 하고, 그 시간이 얼마나 걸릴지 장담할 수 없기 때문에 절충안으로 선택된 것이 JIT 컴파일러입니다.</p>\n<p>만약 자바가 런타임 초기에 모든 바이트 코드를 일괄 컴파일하도록 되어 있고, 전체 컴파일에 1분이 걸린다면 사용자는 java 애플리케이션 실행 시 1분의 컴파일 타임을 대기하여야 합니다. 이는 자바 기반 웹 애플리케이션을 배포하는데도 그 정도 시간이 소요된다는 의미이기도 합니다.</p>\n<p>이러한 이유로 JIT 컴파일러는 각 메서드마다 호출 카운트를 관리하고, 일정 횟수 이상 호출되면 just-in-time 컴파일을 수행합니다. 따라서 자주 사용되는 메서드는 런타임 직후 컴파일되며, 잘 사용되지 않는 메서드는 훨씬 나중에 컴파일되거나 전혀 컴파일되지 않습니다.</p>\n<h2>JIT 컴파일 &#x26; 최적화</h2>\n<h3>Dynamic Lookup</h3>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"java\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">/* .... */</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk12\">obj1</span><span class=\"mtk1\">.</span><span class=\"mtk11\">equals</span><span class=\"mtk1\">(obj2)</span></span></span></code></pre>\n<p>이 코드는 obj1의 타입에 따라 동작이 달라집니다. 그렇기 때문에 어떤 동작을 할지 Dynamic Lookup이 필요하며 Dynamic Lookup은 런타임에 해당 오브젝트의 타입을 결정하므로 매우 느립니다.</p>\n<p>따라서 JVM은 이 코드가 실행될 때마다 obj1이 String이라는 것을 안다면, Dynamic Lookup을 하지 않고 String.equals 메서드를 호출하도록 컴파일합니다. (물론 100% 보장할 수 있다면 베스트이지만, 다른 타입에 올 가능성이 있기 때문에 가능성은 열어두고 컴파일합니다.)</p>\n<h3>Code Cache</h3>\n<p>코드 캐시는 JIT 컴파일러에 의해 컴파일된 코드가 캐싱되는 저장 공간입니다. 캐시의 사이즈는 고정 크기이며, 가득 차면 JVM은 더 이상 코드를 컴파일할 수 없습니다. 즉, 컴파일되지 않은 많은 양의 코드가 인터프리터로 실행되어 느려지게 됩니다. 이 경우 JVM Warning이 발생하기는 하지만 이 로그를 체크하는 건 마냥 쉽지는 않습니다.</p>\n<blockquote>\n<p>캐시 크기 조정 관련 JVM Option</p>\n</blockquote>\n<p><code>코드 캐시 최대 사이즈</code></p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"java\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">-XX</span><span class=\"mtk15\">:</span><span class=\"mtk1\">ReservedCodeCacheSize=</span><span class=\"mtk11\">XXXXX</span><span class=\"mtk1\"> (240m, 2g, 100k 등등)</span></span></span></code></pre>\n<p><code>시작 시 코드 캐시 사이즈</code></p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"java\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">-XX</span><span class=\"mtk15\">:</span><span class=\"mtk1\">InitialCodeCacheSize=</span><span class=\"mtk11\">XXXXX</span><span class=\"mtk1\"> (240m, 2g, 100k 등등)</span></span></span></code></pre>\n<p><code>Java Monitoring &#x26; Management Console</code></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1024px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 111.328125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAADK0lEQVQ4y42TWU8jRxDHew0IH5j4wGsOE4ORd0NWQiISilCSN75n2I0hB6CEh2yUh7xEkfIdQHgdD3gOd/dcHl+s+UddY6/tjXfDSD9VdXXXv6u6e9jV1Q1ubmp486aOarUOTdNhSw9COLBMAcNowjR4aE1OMSncmagc1vD60L17NIYo32wNQoIHWMHDlCVG8zNgRgCY72G0Hv4ftW4GzKBK8MHFZnuaUQHGKCcYMvSZcsIFYzHR9GA6AQzpo3pr4EZT6KjdWRTThQvD6YwLCcYbsXcBZf0BxFvgrz/+xN+vf0Or24VhWrC4gGE1waVEv9fDfa8Lv3MPvQU60ylB3Z9uWfSB774/w++/vkbQ66MpHQjHgyUd2J6PwWAA9bX7D7MFb+1+eDZDQRUUjo+r62toWh2+56LTDtAOAgRBC67rQnAO7gahyPsta3ZvLBiEgqoqvXGHJucQQoBzDsuy0O12qTrLNHBnyYm8jwiqCW67kFKQmJQStm2TVTiOA8GbMKU3+1KmBFvjCuv1f1CtVqHrOol4ngff90nccWyIR7U8FLSEjevrK2iaRlUqarUabcC5GnNYtj/xFh9ZoWEYdAmu6+Du9pY2cBwXji0ffyl0ho5HbUrbBqcKw/MTUtJFNRoNcLf9379F/Sl10YF6iw3v7Tt0t4+G24NO9CeYHk/mjGBmB/ABeAjtCG8i5g7xHgG7vLzEq5/OcVy5wPHJOY5PQvvy5AIvTy/wbeUclR9/QeWHn3FcOcOr0zA+i9OzS7Avv9hDsVhALrOCfO4pnq7ksJZfRSr5CbLpDMVWMlkUC58ivZzCE8YwxyKIsCdTqHgyngD76utvsL+/j/KzMj5/8QLPnj/H1tYWPtvdxfb2Nvb29iim5vL5PGLxGKKxKOKJOKKxGOKJBBKJBObn55FdyYIdHh5id5hcLBaxvr6Ozc1NsuVyGRsbG7SBmt/Z2SFb2i6hVCqRVbFCoYC1tTXy2cHBARSrq6tYWlpCMplEJpMhX5FOp4nFxUUsLCxQJcpXVo0Vc3NzhBJmR0dHJLK8vIxUKkUogWg0Sq1ks1kiEomAMfZRcrkc/gX373voaRzynQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"jconsole\"\n        title=\"jconsole\"\n        src=\"/static/89ab0836e61d679a1db28c110db3d9e9/2bef9/2.png\"\n        srcset=\"/static/89ab0836e61d679a1db28c110db3d9e9/6f3f2/2.png 256w,\n/static/89ab0836e61d679a1db28c110db3d9e9/01e7c/2.png 512w,\n/static/89ab0836e61d679a1db28c110db3d9e9/2bef9/2.png 1024w,\n/static/89ab0836e61d679a1db28c110db3d9e9/afa26/2.png 1258w\"\n        sizes=\"(max-width: 1024px) 100vw, 1024px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>JDK가 설치되어 있다면 <code>$ jconsole</code> 를 입력하여 힙 메모리, 코드 캐시 등을 모니터링할 수 있습니다</p>\n<h2>컴파일 임계치</h2>\n<p>앞서 JIT 컴파일러의 동작 기준이 '많이 사용되는 메서드'를 컴파일한다고 말했습니다. 여기서 '많이 사용되는'의 기준이 컴파일 임계치입니다.</p>\n<p>컴파일 임계치는 메서드가 호출된 횟수(method entry counter) + 메서드 내 루프가 있다면 루프를 빠져나오기까지 실행된 횟수(back-edge loop counter)를 기반으로 측정하며, JVM은 지속적으로 두 카운터의 합계를 확인하고 메서드가 컴파일될 자격이 있는지 검증합니다. 만약 자격이 있다면 컴파일 큐에 추가됩니다.</p>\n<h3>OSR; On-Stack Replacement</h3>\n<p>처음 실행된 메서드이지만, 루프가 정말 길다면 남은 반복을 빠르게 실행하기 위해 중간에 컴파일될 필요가 있습니다. 따라서 루프의 실행을 그때그때 카운트하고 임계치를 넘어가면 전체 메서드가 아닌 루프만을 따로 컴파일해서 컴파일된 버전을 실행합니다.</p>\n<p>이렇게 스택상에서 컴파일된 버전을 바로 실행시키는 것을 OSR이라고 부릅니다.</p>\n<p><code>컴파일 임계치 변경 JVM Option</code></p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"java\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">-XX</span><span class=\"mtk15\">:</span><span class=\"mtk1\">CompileThreadhold=</span><span class=\"mtk10\">N</span></span></span></code></pre>\n<p>컴파일 임계치를 지정하는 옵션으로 클라이언트 컴파일러에서 기본 값은 1,500이며 서버 컴파일러의 기본 값은 10,000입니다. JVM 튜닝에 있어 컴파일 임계치를 변경하는 것은 상당히 권고되는 최적화 방법입니다.</p>\n<p><code>Why?</code></p>\n<ul>\n<li>애플리케이션이 워밍업 하는데 필요한 시간을 절약할 수 있습니다.\n<ul>\n<li>1만 번 실행되어서 컴파일될 코드는 8천 번으로 줄여도 큰 차이가 없기 때문입니다.</li>\n</ul>\n</li>\n<li>절대로 컴파일되지 않을 일부 서버 메서드를 컴파일할 수 있습니다.\n<ul>\n<li>컴파일 임계치에 가까이 있지만, 아슬아슬하게 걸쳐서 컴파일되지 않는 것들을 컴파일해 실행 속도를 높일 수 있습니다.</li>\n</ul>\n</li>\n</ul>\n<h2>마무리</h2>\n<p>컴파일 임계치와 관련된 카운터 값은 최근 기간에 대한 상대적 측정값입니다. 따라서 긴 시간에 걸쳐서 많이 호출되는 메서드(lukewarm method)는 카운터 값이 낮을 수밖에 없습니다. 컴파일러 최적화를 고려하고 있다면 컴파일 임계치를 낮추고, 그에 따라 코드 캐시의 크기를 늘리는 방식을 선제적으로 간단하게 적용해볼 수 있을 것입니다.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk15 { color: #C586C0; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","fields":{"slug":"/Java-Compiler-Optimization/"},"timeToRead":3,"frontmatter":{"title":"Java Compiler Optimization","tags":["JVM"],"date":"2022-12-11T23:03:12.000Z","image":{"publicURL":"/static/366e30cf0f4a9a52ab6c4f12b8e3bdb6/1.png"},"series":null}}},"pageContext":{"id":"59ad9663-a5ff-521a-9206-779255692dc2"}},
    "staticQueryHashes": ["2580406332","3810308631"]}